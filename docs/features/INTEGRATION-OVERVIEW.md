# ğŸ“„ PERFORMANCY - Integration Overview

**Documento TÃ©cnico de IntegraÃ§Ãµes**  
**VersÃ£o:** 1.0  
**Data:** Dezembro 2025  
**Para:** AvaliaÃ§Ã£o TÃ©cnica de Clientes Corporativos

---

## ğŸ“‹ SumÃ¡rio Executivo

A Performancy oferece integraÃ§Ãµes nativas com plataformas de videoconferÃªncia e CRMs para automatizar a captura de dados de vendas e fornecer coaching em tempo real.

### IntegraÃ§Ãµes DisponÃ­veis

| Plataforma | Tipo | Status | AutenticaÃ§Ã£o |
|------------|------|--------|--------------|
| **Google Meet** | VideoconferÃªncia | âœ… ProduÃ§Ã£o | OAuth 2.0 / Extension |
| **GoTo Connect** | Telefonia VoIP | âœ… ProduÃ§Ã£o | OAuth 2.0 |
| **ZOHO CRM** | CRM | âœ… ProduÃ§Ã£o | OAuth 2.0 |
| **Zoom** | VideoconferÃªncia | ğŸ”œ Roadmap | OAuth 2.0 |
| **Microsoft Teams** | VideoconferÃªncia | ğŸ”œ Roadmap | OAuth 2.0 |
| **Salesforce** | CRM | ğŸ”œ Roadmap | OAuth 2.0 |
| **HubSpot** | CRM | ğŸ”œ Roadmap | OAuth 2.0 |

---

## ğŸ¥ Google Meet Integration

### VisÃ£o Geral

A integraÃ§Ã£o com Google Meet Ã© realizada atravÃ©s de uma **Chrome Extension** que captura dados de chamadas em tempo real para fornecer coaching ao vivo para vendedores.

### Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GOOGLE MEET INTEGRATION                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Google Meet   â”‚     â”‚            Chrome Extension                      â”‚
â”‚   (Browser)    â”‚     â”‚                                                  â”‚
â”‚                â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”‚         Content Script                   â”‚   â”‚
â”‚  â”‚ Legendas â”‚â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”‚                                          â”‚   â”‚
â”‚  â”‚ Nativas  â”‚  â”‚     â”‚  â”‚                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â”‚  â€¢ Identifica speakers                   â”‚   â”‚
â”‚                â”‚     â”‚  â”‚  â€¢ Calcula mÃ©tricas em tempo real        â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚  â”‚                                          â”‚   â”‚
â”‚  â”‚  Ãudio   â”‚â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”‚  â€¢ Sugere respostas (Battle Cards)       â”‚   â”‚
â”‚  â”‚  (Mic)   â”‚  â”‚     â”‚  â”‚                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â”‚     â”‚                    â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚                    â–¼                            â”‚
                       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                       â”‚  â”‚         Widget UI (React)                â”‚   â”‚
                       â”‚  â”‚                                          â”‚   â”‚
                       â”‚  â”‚  â€¢ Talk ratio                            â”‚   â”‚
                       â”‚  â”‚  â€¢ Perguntas abertas/fechadas            â”‚   â”‚
                       â”‚  â”‚  â€¢ Progresso metodologia (SPICED)        â”‚   â”‚
                       â”‚  â”‚  â€¢ SugestÃµes contextuais                 â”‚   â”‚
                       â”‚  â”‚  â€¢ Notas da call                         â”‚   â”‚
                       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                       â”‚                    â”‚                            â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                   HTTPS/WSS (TLS 1.3)
                                            â”‚
                                            â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚              PERFORMANCY API                    â”‚
                       â”‚                                                 â”‚
                       â”‚  POST /api/v1/coach/sessions                    â”‚
                       â”‚  GET  /api/v1/meetings/:id/config               â”‚
                       â”‚  POST /api/v1/meetings                          â”‚
                       â”‚                                                 â”‚
                       â”‚  â€¢ AutenticaÃ§Ã£o via JWT                         â”‚
                       â”‚  â€¢ Dados anonimizados antes de LLM              â”‚
                       â”‚  â€¢ Multi-tenant isolation                       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dados Capturados

| Dado | Fonte | Armazenamento | Enviado para LLM |
|------|-------|---------------|------------------|
| TranscriÃ§Ã£o | Legendas CC / Web Speech | PostgreSQL (criptografado) | Anonimizado |
| MÃ©tricas (talk ratio, WPM) | Calculado localmente | PostgreSQL | Sim (agregado) |
| Speaker identification | Legendas nativas | SessÃ£o apenas | NÃ£o |
| DuraÃ§Ã£o da call | Timestamp | PostgreSQL | Sim |
| ObjeÃ§Ãµes detectadas | Regex patterns | PostgreSQL | Tipificado apenas |

### PermissÃµes da ExtensÃ£o

```json
{
  "permissions": [
    "activeTab",
    "storage"
  ],
  "host_permissions": [
    "https://meet.google.com/*",
    "https://*.performancy.ai/*"
  ]
}
```

**Nota:** A extensÃ£o NÃƒO solicita permissÃµes de cÃ¢mera, microfone direto, ou acesso a outras abas.

### Fluxo de AutenticaÃ§Ã£o

```
1. UsuÃ¡rio faz login no Performancy (NextAuth)
2. Token JWT gerado com 24h de expiraÃ§Ã£o
3. ExtensÃ£o armazena token em chrome.storage.local (criptografado)
4. Cada request inclui Bearer token
5. API valida JWT + RBAC + company_id
```

---

## ğŸ“ GoTo Connect Integration

### VisÃ£o Geral

A integraÃ§Ã£o com GoTo Connect permite sincronizar chamadas telefÃ´nicas VoIP para anÃ¡lise e coaching. Os dados de chamadas sÃ£o importados automaticamente e podem ser usados para mÃ©tricas de performance.

### Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       GOTO CONNECT INTEGRATION                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    GoTo Connect     â”‚                   â”‚        PERFORMANCY          â”‚
â”‚                     â”‚                   â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    OAuth 2.0      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Call Reports â”‚â—€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”‚   Integration Service â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚  â”‚                       â”‚  â”‚
â”‚                     â”‚                   â”‚  â”‚  â€¢ OAuth flow         â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    REST API       â”‚  â”‚  â€¢ Token refresh      â”‚  â”‚
â”‚  â”‚   Recordings  â”‚â—€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”‚  â€¢ Account key fetch  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚  â”‚  â€¢ Sync scheduling    â”‚  â”‚
â”‚                     â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚              â”‚              â”‚
â”‚  â”‚  User Info    â”‚â—€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚              â”‚              â”‚
â”‚                     â”‚                   â”‚              â–¼              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                          â”‚  â”‚   PostgreSQL          â”‚  â”‚
                                          â”‚  â”‚                       â”‚  â”‚
                                          â”‚  â”‚  â€¢ Call summaries     â”‚  â”‚
                                          â”‚  â”‚  â€¢ Recordings refs    â”‚  â”‚
                                          â”‚  â”‚  â€¢ Sync logs          â”‚  â”‚
                                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Fluxo de ConfiguraÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GOTO CONNECT SETUP FLOW                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. UsuÃ¡rio clica "Conectar" no card GoTo Connect
                    â”‚
                    â–¼
2. Abre modal lightbox com aba "ConfiguraÃ§Ã£o"
   - Insere Client ID (obtido no GoTo Developer Portal)
   - Insere Client Secret (obtido no GoTo Developer Portal)
                    â”‚
                    â–¼
3. Clica "Salvar Credenciais"
   - Credenciais criptografadas (AES-256-GCM)
   - Salvas na tabela integrations
                    â”‚
                    â–¼
4. Clica "Conectar" para OAuth
   - Redirect para GoTo OAuth consent screen
   - UsuÃ¡rio autoriza escopos
                    â”‚
                    â–¼
5. Callback recebe tokens
   - Access token (1h expiraÃ§Ã£o)
   - Refresh token (longa duraÃ§Ã£o)
   - Account key (para API calls)
                    â”‚
                    â–¼
6. IntegraÃ§Ã£o ativa!
   - Aba "Teste" disponÃ­vel
   - BotÃµes: Sincronizar, Testar, Desconectar
```

### Escopos Solicitados

```
cr.v1.read                        - Call Reports read access
call-events.v1.notifications.manage - Call Events notifications
```

| Escopo | Finalidade |
|--------|------------|
| `cr.v1.read` | Acesso a relatÃ³rios de chamadas |
| `call-events.v1.notifications.manage` | Gerenciar notificaÃ§Ãµes de eventos |

### APIs DisponÃ­veis

| Endpoint | MÃ©todo | DescriÃ§Ã£o |
|----------|--------|-----------|
| `/api/integrations/goto/config` | GET | Obter status da configuraÃ§Ã£o |
| `/api/integrations/goto/config` | POST | Salvar credenciais |
| `/api/integrations/goto/start` | GET | Iniciar OAuth flow |
| `/api/integrations/goto/callback` | GET | Callback do OAuth |
| `/api/integrations/goto/status` | GET | Status da conexÃ£o |
| `/api/integrations/goto/disconnect` | POST | Desconectar integraÃ§Ã£o |
| `/api/integrations/goto/test` | GET | Testar conexÃ£o e APIs |
| `/api/integrations/goto/calls` | GET | Listar chamadas (Ãºltimos N dias) |
| `/api/integrations/goto/sync` | POST | Sincronizar chamadas para arquivo |

### Dados Capturados

| Dado | Fonte | Armazenamento |
|------|-------|---------------|
| Call summaries | Call Reports API | PostgreSQL / JSON file |
| DireÃ§Ã£o (IN/OUT) | Call Reports API | PostgreSQL |
| DuraÃ§Ã£o | Call Reports API | PostgreSQL |
| Caller/Callee | Call Reports API | PostgreSQL |
| GravaÃ§Ãµes (URL) | Recordings API* | PostgreSQL |

*GravaÃ§Ãµes requerem licenÃ§a adicional no GoTo Connect

### Requisitos da Conta GoTo

- **Tipo de conta:** GoTo Connect (nÃ£o GoTo Meeting)
- **Role do usuÃ¡rio:** Admin ou Supervisor
- **LicenÃ§a:** Deve incluir acesso Ã  Call Reports API
- **ConfiguraÃ§Ã£o no GoTo Developer Portal:**
  - Criar OAuth Client
  - Adicionar scopes: `cr.v1.read`, `call-events.v1.notifications.manage`
  - Configurar Redirect URI: `https://[seu-dominio]/api/integrations/goto/callback`

### Tratamento de Erros

| Erro | Causa | SoluÃ§Ã£o |
|------|-------|---------|
| 403 UNAUTHORIZED | LicenÃ§a insuficiente | Verificar licenÃ§a da conta GoTo |
| Account key missing | API nÃ£o retornou account | Reconectar integraÃ§Ã£o |
| Token expired | Token OAuth expirado | Refresh automÃ¡tico |

---

## ğŸ”— ZOHO CRM Integration

### VisÃ£o Geral

A integraÃ§Ã£o com ZOHO CRM permite sincronizaÃ§Ã£o bidirecional de dados de vendas, incluindo leads, deals e atividades.

### Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ZOHO CRM INTEGRATION                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ZOHO CRM       â”‚                   â”‚        PERFORMANCY          â”‚
â”‚                     â”‚                   â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    OAuth 2.0      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Leads      â”‚â—€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”‚   Integration Service â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚  â”‚                       â”‚  â”‚
â”‚                     â”‚                   â”‚  â”‚  â€¢ OAuth flow         â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    REST API       â”‚  â”‚  â€¢ Token refresh      â”‚  â”‚
â”‚  â”‚    Deals      â”‚â—€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”‚  â€¢ Webhook handling   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚  â”‚  â€¢ Sync scheduling    â”‚  â”‚
â”‚                     â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚              â”‚              â”‚
â”‚  â”‚  Contacts     â”‚â—€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚              â”‚              â”‚
â”‚                     â”‚                   â”‚              â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Activities   â”‚â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â–¶â”‚   PostgreSQL          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚  â”‚                       â”‚  â”‚
â”‚                     â”‚                   â”‚  â”‚  â€¢ Leads              â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    Webhooks       â”‚  â”‚  â€¢ Deals              â”‚  â”‚
â”‚  â”‚   Notes       â”‚â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â–¶â”‚  â€¢ Conversations      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚  â”‚  â€¢ Sync logs          â”‚  â”‚
â”‚                     â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Fluxo de AutenticaÃ§Ã£o OAuth 2.0

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UsuÃ¡rio â”‚     â”‚ Performancy  â”‚     â”‚   ZOHO      â”‚     â”‚  ZOHO    â”‚
â”‚          â”‚     â”‚   Frontend   â”‚     â”‚  OAuth      â”‚     â”‚   API    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚  1. Clicar       â”‚                    â”‚                  â”‚
     â”‚  "Conectar ZOHO" â”‚                    â”‚                  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚                  â”‚
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚                  â”‚ 2. Redirect com    â”‚                  â”‚
     â”‚                  â”‚ client_id + scope  â”‚                  â”‚
     â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚  3. Tela de      â”‚                    â”‚                  â”‚
     â”‚  autorizaÃ§Ã£o     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚                  â”‚
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚  4. Autorizar    â”‚                    â”‚                  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚                  â”‚
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚                  â”‚ 5. Authorization   â”‚                  â”‚
     â”‚                  â”‚ code callback      â”‚                  â”‚
     â”‚                  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚                  â”‚ 6. Exchange code   â”‚                  â”‚
     â”‚                  â”‚ for tokens         â”‚                  â”‚
     â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚                  â”‚ 7. Access token +  â”‚                  â”‚
     â”‚                  â”‚ Refresh token      â”‚                  â”‚
     â”‚                  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚                  â”‚ 8. Tokens          â”‚                  â”‚
     â”‚                  â”‚ criptografados     â”‚                  â”‚
     â”‚                  â”‚ (AES-256-GCM)      â”‚                  â”‚
     â”‚                  â”‚ salvos no DB       â”‚                  â”‚
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚  9. Sucesso!     â”‚                    â”‚                  â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚                  â”‚
     â”‚                  â”‚                    â”‚                  â”‚
     â”‚                  â”‚ 10. API calls      â”‚                  â”‚
     â”‚                  â”‚ com Bearer token   â”‚                  â”‚
     â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚                  â”‚                    â”‚                  â”‚
```

### Escopos Solicitados

```
ZohoCRM.modules.ALL
ZohoCRM.users.READ
ZohoCRM.settings.READ
```

| Escopo | Finalidade |
|--------|------------|
| `modules.ALL` | Acesso a leads, deals, contacts, activities |
| `users.READ` | Identificar vendedor responsÃ¡vel |
| `settings.READ` | ConfiguraÃ§Ãµes de campos personalizados |

### Dados Sincronizados

| Entidade ZOHO | Mapeamento Performancy | DireÃ§Ã£o | FrequÃªncia |
|---------------|------------------------|---------|------------|
| Leads | leads | Bidirecional | Real-time (webhook) |
| Deals | deals | Bidirecional | Real-time (webhook) |
| Contacts | leads.contacts | ZOHO â†’ Performancy | Real-time |
| Activities | conversations | Bidirecional | A cada 15min |
| Notes | conversations.notes | Bidirecional | A cada 15min |

### SeguranÃ§a dos Tokens

```typescript
// lib/crypto.ts - Criptografia de tokens
import { encrypt, decrypt } from '@/lib/crypto';

// Ao salvar token
const encrypted_token = encrypt(access_token);
await prisma.integration.update({
  where: { id: integration_id },
  data: { 
    access_token: encrypted_token,  // AES-256-GCM
    refresh_token: encrypt(refresh_token),
  }
});

// Ao usar token
const decrypted_token = decrypt(integration.access_token);
```

### Webhook Configuration

```
POST /api/webhooks/zoho

Headers:
- X-Zoho-Webhook-Signature: HMAC-SHA256

Events:
- module.create (Lead, Deal, Contact)
- module.update (Lead, Deal, Contact)
- module.delete (Lead, Deal, Contact)
```

---

## ğŸ” SeguranÃ§a das IntegraÃ§Ãµes

### Armazenamento de Credenciais

| Credencial | MÃ©todo | LocalizaÃ§Ã£o |
|------------|--------|-------------|
| OAuth Access Token | AES-256-GCM | PostgreSQL (integrations table) |
| OAuth Refresh Token | AES-256-GCM | PostgreSQL (integrations table) |
| Client Secret | AES-256-GCM | PostgreSQL (integrations table) |
| Webhook Secret | AES-256-GCM | PostgreSQL (integrations table) |

### RotaÃ§Ã£o de Tokens

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TOKEN REFRESH FLOW                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Access Token Expiry: 1 hora (ZOHO padrÃ£o)
Refresh Token Expiry: Sem expiraÃ§Ã£o (atÃ© revogaÃ§Ã£o)

1. Antes de cada API call, verificar expiraÃ§Ã£o
2. Se < 5min para expirar, usar refresh token
3. Atualizar access_token no banco (criptografado)
4. Continuar com novo token

Fallback:
- Se refresh falhar â†’ marcar integraÃ§Ã£o como "needs_reauth"
- Notificar usuÃ¡rio para reconectar
```

### Rate Limiting

| IntegraÃ§Ã£o | Limite | ImplementaÃ§Ã£o |
|------------|--------|---------------|
| ZOHO CRM | 100 req/min | Queue com backoff |
| Google Meet Extension | N/A (local) | N/A |

---

## ğŸ“Š Diagrama de Arquitetura Completo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PERFORMANCY - ARCHITECTURE OVERVIEW                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              CLIENTES
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚ Browser â”‚    â”‚  Mobile â”‚    â”‚   Chrome    â”‚    â”‚   ZOHO CRM      â”‚    â”‚
â”‚   â”‚  (Web)  â”‚    â”‚  (PWA)  â”‚    â”‚  Extension  â”‚    â”‚   (Webhook)     â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚        â”‚              â”‚                â”‚                   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚                â”‚                   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                           HTTPS / TLS 1.3
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           PERFORMANCY CLOUD                                 â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         EDGE / CDN (Vercel)                            â”‚ â”‚
â”‚  â”‚  â€¢ SSL Termination  â€¢ DDoS Protection  â€¢ Global Distribution           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     NEXT.JS APPLICATION                                â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚   â”‚   Auth      â”‚  â”‚   API       â”‚  â”‚  Webhooks   â”‚  â”‚   SSR       â”‚   â”‚ â”‚
â”‚  â”‚   â”‚  (NextAuth) â”‚  â”‚  Routes     â”‚  â”‚  Handlers   â”‚  â”‚  Pages      â”‚   â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚          â”‚                â”‚                â”‚                           â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                    â”‚ â”‚
â”‚  â”‚   â”‚                MIDDLEWARE                     â”‚                    â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ CORS  â€¢ Rate Limiting  â€¢ RBAC  â€¢ Logging   â”‚                    â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚ â”‚
â”‚  â”‚                          â”‚                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     BUSINESS LOGIC LAYER                               â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚   â”‚ lib/       â”‚  â”‚ lib/       â”‚  â”‚ lib/       â”‚  â”‚ lib/       â”‚       â”‚ â”‚
â”‚  â”‚   â”‚ anonymize  â”‚  â”‚ crypto     â”‚  â”‚ features   â”‚  â”‚ permissionsâ”‚       â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     DATA LAYER (Prisma ORM)                            â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚   â”‚                    PostgreSQL 17+                               â”‚  â”‚ â”‚
â”‚  â”‚   â”‚                                                                 â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Multi-tenant isolation (company_id)                          â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Encrypted at rest                                            â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Point-in-time recovery                                       â”‚  â”‚ â”‚
â”‚  â”‚   â”‚  â€¢ Daily automated backups                                      â”‚  â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     EXTERNAL SERVICES                                  â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚ â”‚
â”‚  â”‚   â”‚ Anthropic   â”‚  â”‚ ZOHO API   â”‚  â”‚ Upstash    â”‚                      â”‚ â”‚
â”‚  â”‚   â”‚ (Claude)    â”‚  â”‚ (CRM)      â”‚  â”‚ (Redis)    â”‚                      â”‚ â”‚
â”‚  â”‚   â”‚             â”‚  â”‚            â”‚  â”‚            â”‚                      â”‚ â”‚
â”‚  â”‚   â”‚ Dados       â”‚  â”‚ OAuth 2.0  â”‚  â”‚ Rate       â”‚                      â”‚ â”‚
â”‚  â”‚   â”‚ Anonimizadosâ”‚  â”‚ Tokens     â”‚  â”‚ Limiting   â”‚                      â”‚ â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Checklist de ConfiguraÃ§Ã£o

### Google Meet (Chrome Extension)

- [ ] Instalar extensÃ£o via Chrome Web Store
- [ ] Fazer login no Performancy
- [ ] Autorizar extensÃ£o a conectar
- [ ] Entrar em uma call do Google Meet
- [ ] Verificar widget aparecendo

### ZOHO CRM

- [ ] Acessar ConfiguraÃ§Ãµes > IntegraÃ§Ãµes
- [ ] Clicar "Conectar ZOHO CRM"
- [ ] Autorizar escopos solicitados
- [ ] Configurar mapeamento de campos
- [ ] Testar sincronizaÃ§Ã£o com um lead

---

## ğŸ“ Suporte TÃ©cnico

Para suporte de integraÃ§Ãµes:

- **Email:** yogue@fluxos.co
- **DocumentaÃ§Ã£o API:** https://docs.performancy.com.br/api (em breve)
- **Status Page:** https://status.performancy.com.br (em breve)

---

**VersÃ£o:** 1.1  
**Ãšltima AtualizaÃ§Ã£o:** 6, Dezembro 2025  
**PrÃ³xima RevisÃ£o:** 13, Dezembro 2025
